\hypertarget{i2c__adc_8c}{}\section{/home/luis9705/stm32f103c8t6/\+Sistemas\+Embebidos\+Tec\+G\+D\+A/\+Abstraction\+\_\+and\+\_\+documentation/i2c\+\_\+adc/i2c\+\_\+adc.c File Reference}
\label{i2c__adc_8c}\index{/home/luis9705/stm32f103c8t6/\+Sistemas\+Embebidos\+Tec\+G\+D\+A/\+Abstraction\+\_\+and\+\_\+documentation/i2c\+\_\+adc/i2c\+\_\+adc.\+c@{/home/luis9705/stm32f103c8t6/\+Sistemas\+Embebidos\+Tec\+G\+D\+A/\+Abstraction\+\_\+and\+\_\+documentation/i2c\+\_\+adc/i2c\+\_\+adc.\+c}}
{\ttfamily \#include \char`\"{}i2c\+\_\+adc.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../uc\+\_\+i2c/uc\+\_\+i2c.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
Include dependency graph for i2c\+\_\+adc.\+c\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{i2c__adc_8c_a20b5c387c4a600f7056c57935e572512}{adc\+\_\+pin\+\_\+setup} (void)
\begin{DoxyCompactList}\small\item\em $<$128 S\+PS, Disable \end{DoxyCompactList}\item 
void \hyperlink{i2c__adc_8c_a3c5d2bf67a701f0cb6556568addb2266}{adc\+\_\+setup} (void)
\item 
uint16\+\_\+t \hyperlink{i2c__adc_8c_a5af05cc48d199cae150afa5751e4ae58}{adc\+\_\+read} (void)
\item 
float \hyperlink{i2c__adc_8c_ace0c00b5cceabf6f8fdb62b4143ec7cc}{adc\+\_\+convert\+\_\+voltage} (uint16\+\_\+t data)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{i2c__adc_8c_aefb18c242743d00c42b9b3de7fffd83d}\label{i2c__adc_8c_aefb18c242743d00c42b9b3de7fffd83d}} 
uint8\+\_\+t {\bfseries ads1115\+\_\+addr} = 0b01001000
\item 
\mbox{\Hypertarget{i2c__adc_8c_aa55f5661ab9cce9454c9ede1f913b385}\label{i2c__adc_8c_aa55f5661ab9cce9454c9ede1f913b385}} 
uint8\+\_\+t \hyperlink{i2c__adc_8c_aa55f5661ab9cce9454c9ede1f913b385}{conversion\+\_\+reg} = 0x0
\begin{DoxyCompactList}\small\item\em $<$I2C A\+DC Address. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c__adc_8c_a1370a3d1e9ad76beaf15cf00dec520c3}\label{i2c__adc_8c_a1370a3d1e9ad76beaf15cf00dec520c3}} 
uint8\+\_\+t \hyperlink{i2c__adc_8c_a1370a3d1e9ad76beaf15cf00dec520c3}{config\+\_\+reg} = 0x1
\begin{DoxyCompactList}\small\item\em $<$Conversion register \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c__adc_8c_a8233114943029315aa265ad362c4bf5d}\label{i2c__adc_8c_a8233114943029315aa265ad362c4bf5d}} 
uint8\+\_\+t \hyperlink{i2c__adc_8c_a8233114943029315aa265ad362c4bf5d}{config\+\_\+msb} = 0b11000010
\begin{DoxyCompactList}\small\item\em $<$Configuration register \end{DoxyCompactList}\item 
\mbox{\Hypertarget{i2c__adc_8c_a33d32d8d37ede2281634d4d429becaac}\label{i2c__adc_8c_a33d32d8d37ede2281634d4d429becaac}} 
uint8\+\_\+t {\bfseries config\+\_\+lsb} = 0b10000011
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{i2c__adc_8c_ace0c00b5cceabf6f8fdb62b4143ec7cc}\label{i2c__adc_8c_ace0c00b5cceabf6f8fdb62b4143ec7cc}} 
\index{i2c\+\_\+adc.\+c@{i2c\+\_\+adc.\+c}!adc\+\_\+convert\+\_\+voltage@{adc\+\_\+convert\+\_\+voltage}}
\index{adc\+\_\+convert\+\_\+voltage@{adc\+\_\+convert\+\_\+voltage}!i2c\+\_\+adc.\+c@{i2c\+\_\+adc.\+c}}
\subsubsection{\texorpdfstring{adc\+\_\+convert\+\_\+voltage()}{adc\_convert\_voltage()}}
{\footnotesize\ttfamily float adc\+\_\+convert\+\_\+voltage (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{data }\end{DoxyParamCaption})}

Scales the adc value to a given voltage scale. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em data} & \\
\hline
\mbox{\tt out}  & {\em scaled\+\_\+value} & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{i2c__adc_8c_a20b5c387c4a600f7056c57935e572512}\label{i2c__adc_8c_a20b5c387c4a600f7056c57935e572512}} 
\index{i2c\+\_\+adc.\+c@{i2c\+\_\+adc.\+c}!adc\+\_\+pin\+\_\+setup@{adc\+\_\+pin\+\_\+setup}}
\index{adc\+\_\+pin\+\_\+setup@{adc\+\_\+pin\+\_\+setup}!i2c\+\_\+adc.\+c@{i2c\+\_\+adc.\+c}}
\subsubsection{\texorpdfstring{adc\+\_\+pin\+\_\+setup()}{adc\_pin\_setup()}}
{\footnotesize\ttfamily void adc\+\_\+pin\+\_\+setup (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



$<$128 S\+PS, Disable 

Sets up the A\+DC pins needed. \mbox{\Hypertarget{i2c__adc_8c_a5af05cc48d199cae150afa5751e4ae58}\label{i2c__adc_8c_a5af05cc48d199cae150afa5751e4ae58}} 
\index{i2c\+\_\+adc.\+c@{i2c\+\_\+adc.\+c}!adc\+\_\+read@{adc\+\_\+read}}
\index{adc\+\_\+read@{adc\+\_\+read}!i2c\+\_\+adc.\+c@{i2c\+\_\+adc.\+c}}
\subsubsection{\texorpdfstring{adc\+\_\+read()}{adc\_read()}}
{\footnotesize\ttfamily uint16\+\_\+t adc\+\_\+read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Reads the value of the A\+DC. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em data} & \\
\hline
\end{DoxyParams}
M\+SB Read I2C byte

L\+SB Read I2C byte

Full data \mbox{\Hypertarget{i2c__adc_8c_a3c5d2bf67a701f0cb6556568addb2266}\label{i2c__adc_8c_a3c5d2bf67a701f0cb6556568addb2266}} 
\index{i2c\+\_\+adc.\+c@{i2c\+\_\+adc.\+c}!adc\+\_\+setup@{adc\+\_\+setup}}
\index{adc\+\_\+setup@{adc\+\_\+setup}!i2c\+\_\+adc.\+c@{i2c\+\_\+adc.\+c}}
\subsubsection{\texorpdfstring{adc\+\_\+setup()}{adc\_setup()}}
{\footnotesize\ttfamily void adc\+\_\+setup (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Sets up the adc using I2C communication. 